webpackJsonp([6],{NHnr:function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var a=e("7+uW"),o={render:function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"clearfix",attrs:{id:"app"}},[n("router-view",{attrs:{name:"sidebar"}}),this._v(" "),n("router-view")],1)},staticRenderFns:[]};var c=e("VU/8")(null,o,!1,function(t){e("soPj")},null,null).exports,r=e("sUu7"),i=e("+8+3"),u=e.n(i),s=e("/ocq"),d=e("NYxO"),l=e("M4fF"),p=e.n(l),f=e("lbHh"),h=e.n(f),m={namespaced:!0,state:{isLogin:!1},mutations:{SET_USER:function(t,n){t=p.a.assign(t,n),h.a.set("accountData",t)},REMOVE_USER:function(t){t=p.a.assign(t,{isLogin:!1}),h.a.remove("accountData")}},actions:{setUser:function(t,n){(0,t.commit)("SET_USER",n)},removeUser:function(t){(0,t.commit)("REMOVE_USER")}}},R={path:"/login",name:"login",component:function(t){return e.e(1).then(function(){var n=[e("QlWu")];t.apply(null,n)}.bind(this)).catch(e.oe)}},S={path:"/role",name:"role",meta:{cn:"管理权限"},component:function(t){return e.e(3).then(function(){var n=[e("P2Xi")];t.apply(null,n)}.bind(this)).catch(e.oe)}};function v(){return R}var g={path:"/",name:"layout",components:{default:function(t){return e.e(4).then(function(){var n=[e("6KT8")];t.apply(null,n)}.bind(this)).catch(e.oe)},sidebar:function(t){return e.e(0).then(function(){var n=[e("J6W3")];t.apply(null,n)}.bind(this)).catch(e.oe)}},redirect:"/index",children:[{path:"/index",name:"index",meta:{cn:"公共显示"},component:function(t){return e.e(2).then(function(){var n=[e("nU8l")];t.apply(null,n)}.bind(this)).catch(e.oe)}}]};var E={namespaced:!0,state:{addRoutes:[]},mutations:{SET_ROUTERS:function(t,n){t.addRoutes.length=0,t.addRoutes=p.a.concat(t.addRoutes,n)}},actions:{getRoutes:function(t,n){var e=t.commit;-1!==p.a.indexOf(n,"admin")?e("SET_ROUTERS",(g.children=g.children.concat([S]),[v(),g])):e("SET_ROUTERS",[v(),g])}}};a.a.use(d.a);var U=new d.a.Store({modules:{StoreUser:m,StoreAddRoutes:E},getters:{userInfo:function(t){return t.StoreUser},addRoutes:function(t){return t.StoreAddRoutes.addRoutes}}});a.a.use(s.a);var O=new s.a({});h.a.getJSON("accountData")&&h.a.getJSON("accountData").isLogin?U.dispatch("StoreUser/setUser",h.a.getJSON("accountData")).then(function(){var t=U.getters.userInfo.roles;U.dispatch("StoreAddRoutes/getRoutes",t).then(function(){O.addRoutes(U.getters.addRoutes)})}):O.addRoutes([v()]),O.beforeEach(function(t,n,e){h.a.getJSON("accountData")&&h.a.getJSON("accountData").isLogin?e():"/login"===t.path?e():e("/login")});var _=O,b=e("mtWM"),N=e.n(b);r.a.localize("zh_CN",u.a),a.a.prototype.$http=N.a,a.a.use(r.b),new a.a({el:"#app",router:_,store:U,components:{App:c},template:"<App/>"})},soPj:function(t,n){}},["NHnr"]);
//# sourceMappingURL=app.faa594c823babc1106ed.js.map